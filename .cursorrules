# 커서 AI 코딩 규칙 (Cursor AI Coding Rules)

## 커밋 메시지 규칙 (Commit Message Rules)

### 필수 규칙

1. **커밋 메시지 작성 전 반드시 `package.json`의 `version` 필드를 확인한다.**
   - 커밋 메시지는 항상 `[v버전] 작업내용` 형식이어야 한다.
   - 예시: `[v1.6.66-staging] 이미지 404 에러 수정 및 프로그래스바 실제 진행률 반영`

2. **버전 확인 절차:**
   - `package.json` 파일을 읽어서 `version` 필드를 확인한다.
   - 현재 브랜치가 `staging`이면 `-staging`을, `main`이면 그대로 사용한다.
   - 커밋 메시지 형식: `v{version}{-branch}` (예: `v1.6.66-staging`)

3. **커밋 메시지 구조:**
   ```
   [v버전-브랜치] 작업내용 요약
   
   - 상세 변경 사항 1
   - 상세 변경 사항 2
   - ...
   ```

4. **이 규칙은 사용자가 별도로 언급하지 않아도 항상 최우선으로 적용된다.**

## 코드 스타일 규칙

1. **언어:** 모든 답변과 주석, 코멘트는 반드시 **한글**로 제공한다.
2. **간결성:** 답변은 항상 명확하고 간결하게, 토큰 사용을 최적화해서 제공한다.
3. **맥락 유지:** 이전 대화와 코드 내용을 모두 기억하고, 프로젝트 전반에 걸쳐 일관성을 유지하며 작업을 이어서 진행한다.

## 개발 환경

- **개발 머신:** MacBook Pro M1 (Apple Silicon)
- **타겟 디바이스:** iPhone 14 Pro
- **기술 스택:**
  - 모바일 앱: Flutter (Dart)
  - 백엔드: Node.js + TypeScript, NestJS
  - 데이터베이스: PostgreSQL
  - 클라우드: Firebase 또는 AWS Amplify

## 코드 작성 스타일

- **주석:** 모든 함수, 클래스, 그리고 복잡한 로직 블록에는 명확한 한글 주석을 달아준다.
- **일관성:** 프로젝트 전반에 걸쳐 코드 스타일, 네이밍 컨벤션을 일관되게 유지한다.
- **가독성:** 코드는 항상 가독성을 최우선으로 고려하여 작성한다.

## API 설계 원칙

- **에러 처리:** 모든 API 엔드포인트의 에러 처리는 **`try-catch` 구문**을 사용한다.
- **RESTful 원칙:** API는 **RESTful 원칙**을 철저히 준수한다.
- **응답 형식:** 모든 API 응답은 **JSON 형식**이며, 일관된 구조를 사용한다.
  - 성공: `{ "success": true, "data": { ... } }`
  - 실패: `{ "success": false, "error": { "code": "...", "message": "..." } }`
