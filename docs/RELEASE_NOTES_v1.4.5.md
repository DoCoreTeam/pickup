# Release Notes v1.4.5

## 📅 릴리즈 정보
- **버전**: v1.4.5
- **코드명**: "Owner Matrix"
- **릴리즈 날짜**: 2025-11-12
- **타입**: Minor Update

---

## 🎯 주요 하이라이트

1. **점주/가게 멀티 뷰 전환** – 가게 관리 화면을 점주·가게 두 가지 관점으로 전환하고, 그룹 카드·필터·페이지네이션을 통한 다점포 운영 최적화
2. **가게 목록 정비** – 점주 태그 컬럼과 최신 정렬 기준으로 연결 관계 파악과 검색 속도 향상
3. **기본 정보 워크플로우 강화** – 도메인·QR 편집 가능 여부를 정확히 노출하고 안내 문구를 일관되게 개선

---

## ✨ 새로운 기능

### 1. 점주 기반 가게 관리 뷰
- `/admin` 대시보드에서 점주/가게 뷰를 즉시 전환
- 점주 카드에 연결된 가게 수, 대표 가게, 미연결 상태를 한눈에 표현
- `owner:unlinked` 필터, 페이지네이션(기본 12개)로 다점포 환경에서도 빠르게 탐색

### 2. 가게 목록 UX 고도화
- 태그 컬럼에서 연결된 점주 요약을 표시하고 클릭 시 상세 정보로 이동
- 정렬 우선순위를 최신 생성일 → 최신 수정일 기준으로 재정렬
- 점주 이메일·연락처에 대한 빠른 액션 버튼(복사, 메일 열기) 추가

### 3. 로그인 및 세션 관리 강화
- 점주 로그인 시 다중 가게 목록, 대표 가게 ID, 이메일을 세션에 저장하여 빠른 복구 지원
- 숨겨진 단축키(← ↑ →)로 슈퍼어드민 로그인 화면 진입, 반복 입력 시 다시 사장님 모드로 복귀
- 슈퍼어드민 로그인 시 점주 캐시를 완전히 초기화하여 권한 충돌 방지

---

## 🔧 개선 사항

- 기본 정보 스텝 모달에서 도메인 단계 노출 조건을 `editable` 상태에 맞춰 재구성
- QR 생성/잠금 상태 배지를 정비하고 안내 문구를 모바일·데스크톱 공통으로 정리
- 주소 입력값을 서버·클라이언트 양쪽에서 공백/특수문자를 검증하여 데이터 품질 향상
- `scripts/restart-api.sh`를 추가해 Mac 환경에서 API 재시작을 단일 명령으로 처리

---

## 🐛 버그 수정

1. 점주 연락처 입력 시 하이픈 포맷이 유지되지 않아 검증이 실패하던 문제 해결
2. 상세 주소에 특수문자가 포함되면 저장이 누락되던 현상 제거
3. 점주/슈퍼어드민 전환 시 세션 정보가 섞여 잘못된 권한이 노출되던 사례 방지

---

## ✅ 테스트

- **수동 시나리오**
  - 점주 로그인 → 멀티 스토어 목록 로딩 및 대표 가게 전환 확인
  - 가게 뷰 ↔ 점주 뷰 전환, `owner:unlinked` 필터와 페이지네이션 동작 검증
  - 기본 정보 스텝 모달에서 도메인/QR 편집 가능 조건 및 안내 문구 확인
  - 점주 가입 요청 폼 전화번호·주소 검증, API 요청 payload 정상 여부 점검

---

## 🚀 배포 가이드

1. **API 서버 재시작**
    ```bash
    cd /Users/dohyeonkim/작업용/pickup
    npm run restart:api > server_runtime.log 2>&1 &
    ```
2. **브라우저 강제 새로고침**  
   `Cmd + Shift + R` (Mac) 또는 `Ctrl + Shift + R` (Windows/Linux)

---

## 🔮 다음 버전 (v1.4.6) 계획

1. 점주 계정 검색 및 필터 UI 고도화
2. QR 잠금 현황 대시보드 진입 시각화
3. 점주 커뮤니케이션을 위한 알림 센터 초안 공개

---

**v1.4.5 릴리즈 완료!** 🎉


