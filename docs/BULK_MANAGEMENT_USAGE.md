# 슈퍼어드민 대량 가게 관리 - 사용 가이드

## 📖 개요

이 가이드는 슈퍼어드민용 대량 가게 관리 페이지의 사용 방법을 설명합니다.

---

## 🚀 페이지 접근

### 1. 대시보드에서 접근
1. `http://localhost:8081/admin/dashboard.html` 접속
2. 좌측 사이드바 하단의 **"🚀 대량 가게 관리"** 버튼 클릭

### 2. 직접 접근
- URL: `http://localhost:8081/admin/bulk-management.html`

---

## 🔍 검색 및 필터

### 검색
- **위치**: 상단 툴바 좌측
- **기능**: 가게명, 전화번호, 주소로 실시간 검색
- **사용법**:
  1. 검색창에 키워드 입력
  2. 자동으로 결과 필터링

### 상태 필터
- **위치**: 상단 툴바 중앙
- **옵션**:
  - `전체 상태`: 모든 가게 표시
  - `활성`: 활성 상태 가게만 표시
  - `일시정지`: 일시정지 상태 가게만 표시

### 정렬
- **위치**: 상단 툴바 중앙
- **옵션**:
  - `이름순`: 가게명 가나다순
  - `생성일순`: 최근 생성된 가게부터
  - `수정일순`: 최근 수정된 가게부터

---

## ✅ 가게 선택

### 전체 선택/해제
1. 테이블 헤더의 체크박스 클릭
2. 현재 페이지의 모든 가게 선택/해제

### 개별 선택
1. 각 행의 체크박스 클릭
2. 선택한 가게만 작업 대상으로 지정

### 선택 확인
- **위치**: 상단 액션 바 (선택 시 자동 표시)
- **표시**: "N개 가게 선택됨"

---

## 🛠️ 일괄 작업

### 1. 일시정지
**목적**: 선택한 가게를 일괄 일시정지

**사용법**:
1. 일시정지할 가게 선택
2. 액션 바에서 **"⏸️ 일시정지"** 버튼 클릭
3. 확인 모달에서 **"확인"** 클릭
4. 성공 토스트 알림 확인

**결과**:
- 선택한 가게의 상태가 `일시정지`로 변경
- 활동 로그에 자동 기록

---

### 2. 재개
**목적**: 선택한 가게를 일괄 재개

**사용법**:
1. 재개할 가게 선택
2. 액션 바에서 **"▶️ 재개"** 버튼 클릭
3. 확인 모달에서 **"확인"** 클릭
4. 성공 토스트 알림 확인

**결과**:
- 선택한 가게의 상태가 `활성`으로 변경
- 활동 로그에 자동 기록

---

### 3. 삭제
**목적**: 선택한 가게를 일괄 삭제

**⚠️ 주의**: 이 작업은 되돌릴 수 없습니다!

**사용법**:
1. 삭제할 가게 선택
2. 액션 바에서 **"🗑️ 삭제"** 버튼 클릭
3. 확인 모달에서 경고 메시지 확인
4. **"확인"** 클릭
5. 성공 토스트 알림 확인

**결과**:
- 선택한 가게가 영구적으로 삭제
- 가게 설정도 함께 삭제
- 활동 로그에 자동 기록

---

## 📥 내보내기

### JSON 내보내기
**목적**: 전체 가게 데이터를 JSON 파일로 다운로드

**사용법**:
1. 상단 툴바에서 **"📥 JSON 내보내기"** 버튼 클릭
2. 파일 자동 다운로드 (`stores_YYYY-MM-DD.json`)

**파일 형식**:
```json
{
  "exportedAt": "2025-10-26T12:00:00",
  "totalCount": 10,
  "stores": [
    {
      "id": "store_1",
      "name": "미친제육",
      "subtitle": "하단 텍스트",
      "phone": "010-1234-5678",
      "address": "서울시 강남구",
      "status": "active",
      "createdAt": "2025-10-26T12:00:00"
    }
  ]
}
```

---

### CSV 내보내기
**목적**: 전체 가게 데이터를 CSV 파일로 다운로드 (엑셀 호환)

**사용법**:
1. 상단 툴바에서 **"📊 CSV 내보내기"** 버튼 클릭
2. 파일 자동 다운로드 (`stores_YYYY-MM-DD.csv`)

**파일 형식**:
```csv
id,name,subtitle,phone,address,status,createdAt
store_1,미친제육,하단 텍스트,010-1234-5678,서울시 강남구,active,2025-10-26T12:00:00
```

**활용**:
- 엑셀에서 열어서 편집
- 데이터 분석
- 백업

---

## 📤 가져오기

### JSON 가져오기
**목적**: JSON 파일에서 가게 데이터 일괄 가져오기

**사용법**:
1. 상단 툴바에서 **"📤 JSON 가져오기"** 버튼 클릭
2. 파일 선택 대화상자에서 JSON 파일 선택
3. 자동으로 가져오기 시작
4. 성공 토스트 알림 확인 ("N개 가게가 가져오기되었습니다.")

**파일 형식 요구사항**:
```json
{
  "stores": [
    {
      "name": "새 가게",
      "subtitle": "하단 텍스트",
      "phone": "010-1234-5678",
      "address": "서울시 강남구",
      "status": "active"
    }
  ]
}
```

**필수 필드**:
- `name`: 가게명 (필수)

**선택 필드**:
- `subtitle`: 하단 텍스트
- `phone`: 전화번호
- `address`: 주소
- `status`: 상태 (`active` 또는 `paused`, 기본값: `active`)

**주의사항**:
- `id`와 `createdAt`는 자동 생성되므로 포함하지 않아도 됩니다.
- 중복된 가게명이 있어도 새로운 ID로 생성됩니다.

---

## 📄 페이지네이션

### 기본 설정
- **페이지 크기**: 20개/페이지
- **표시 정보**: "1-20 / 100개" (현재 범위 / 전체 개수)

### 네비게이션
- **이전/다음 버튼**: 이전/다음 페이지로 이동
- **페이지 번호 버튼**: 특정 페이지로 직접 이동
- **활성 페이지**: 파란색으로 강조 표시

---

## 💡 팁 및 모범 사례

### 1. 검색 활용
- **빠른 검색**: 가게명의 일부만 입력해도 검색 가능
- **복합 검색**: 전화번호나 주소로도 검색 가능

### 2. 필터 조합
- 검색 + 상태 필터 + 정렬을 조합하여 원하는 가게 빠르게 찾기
- 예: "서울" 검색 + "활성" 필터 + "생성일순" 정렬

### 3. 일괄 작업 전 확인
- 선택한 가게 수를 확인하세요 (액션 바에 표시)
- 삭제 전에는 반드시 확인 모달의 경고 메시지를 읽으세요

### 4. 백업
- 중요한 작업 전에는 JSON 내보내기로 백업하세요
- 정기적으로 백업하여 데이터 손실 방지

### 5. 가져오기 전 검증
- JSON 파일의 형식이 올바른지 확인하세요
- 필수 필드 (`name`)가 모든 가게에 포함되어 있는지 확인하세요

---

## 🚨 문제 해결

### 1. 가게 목록이 표시되지 않음
**원인**: 서버 연결 실패 또는 데이터 없음

**해결**:
1. 브라우저 콘솔 확인 (F12)
2. 서버 로그 확인 (`/tmp/pickup_server.log`)
3. 서버 재시작:
   ```bash
   lsof -ti:8081 | xargs kill -9 2>/dev/null
   python3 start.py > /tmp/pickup_server.log 2>&1 &
   ```

---

### 2. 일괄 작업 실패
**원인**: 네트워크 오류 또는 서버 오류

**해결**:
1. 토스트 알림의 오류 메시지 확인
2. 브라우저 콘솔에서 상세 오류 확인
3. 서버 로그 확인
4. 작업 재시도

---

### 3. 파일 가져오기 실패
**원인**: JSON 형식 오류 또는 필수 필드 누락

**해결**:
1. JSON 파일을 텍스트 에디터로 열어서 형식 확인
2. 필수 필드 (`name`) 확인
3. JSON 유효성 검사 도구 사용 (예: jsonlint.com)
4. 수정 후 재시도

---

### 4. 페이지가 느림
**원인**: 가게 수가 많음 (100개 이상)

**해결**:
1. 검색/필터를 사용하여 결과 범위 좁히기
2. 정렬 기준 변경
3. 향후 업데이트에서 가상 스크롤 도입 예정

---

## 📞 지원

### 활동 로그 확인
- 모든 일괄 작업은 활동 로그에 자동 기록됩니다.
- 대시보드의 **"📋 활동 로그"** 메뉴에서 확인 가능

### 문의
- 문제가 지속되면 시스템 관리자에게 문의하세요.
- 활동 로그의 타임스탬프와 오류 메시지를 함께 전달하세요.

---

## 🎓 추가 학습

### 관련 문서
- [구현 요약](./BULK_MANAGEMENT_SUMMARY.md)
- [활동 로그 정책](./ACTIVITY_LOG_POLICY.md)
- [배포 가이드](./DEPLOYMENT_GUIDE.md)

### API 문서
- 개발자를 위한 API 엔드포인트 상세 정보는 `BULK_MANAGEMENT_SUMMARY.md` 참조

---

**작성일**: 2025-10-26  
**버전**: v1.4.0  
**최종 업데이트**: 2025-10-26

